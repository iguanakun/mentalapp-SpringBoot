<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="monitor-main" th:fragment="step2-form(url, method, buttonText)">
    <form th:action="${url}" th:method="${method}" th:object="${cbtCrForm}">
        <div th:replace="~{shared/_error-message :: error}"></div>
        <div class="monitor-contents">
            <div class="monitor-wrapper">
                <div class="item-circle"></div>
                <div class="monitor-item">思考のゆがみ</div>
            </div>
            <div class="monitor-info">次のような思考のゆがみに、がんじがらめになっていると感じるものはありますか？<br>
                もう一人の自分が観察するように、自分に語りかけてみてください。
            </div>
            <div class="monitor-info__dist">
                <div th:each="dist : ${viewData.distortions}">
                    <label>
                        <div class="checkbox" id="distortion">
                            <input type="checkbox" th:field="*{distortionIds}" th:value="${dist.id}"/>
                            <span class="green-diamond">◆ </span>
                            <span th:text="${dist.distortionName}"></span><br>
                            <span th:text="${dist.info}"></span>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <div class="monitor-contents">
            <div class="monitor-wrapper">
                <div class="item-circle"></div>
                <div class="monitor-item">思考のきっかけ</div>
            </div>
            <div class="monitor-info">考えが正しいと思う事実や根拠はありますか？</div>
            <textarea th:field="*{cbtCr.whyCorrect}" class="monitor-text" rows="5" maxlength="40000"></textarea>
        </div>

        <div class="monitor-contents">
            <div class="monitor-wrapper">
                <div class="item-circle"></div>
                <div class="monitor-item">思考を疑う</div>
            </div>
            <div class="monitor-info">
                考えが間違っていると思う事実や根拠はありますか？
            </div>
            <textarea th:field="*{cbtCr.whyDoubt}" class="monitor-text" rows="5" maxlength="40000"></textarea>
        </div>

        <div class="monitor-contents">
            <div class="monitor-wrapper">
                <div class="item-circle"></div>
                <div class="monitor-item">新しい考え方</div>
            </div>
            <div class="monitor-info"> ここまでを踏まえて、新しい考え方はできますか？</div>
            <textarea th:field="*{cbtCr.newThought}" class="monitor-text" rows="5" maxlength="40000"></textarea>
        </div>

        <div class="monitor-contents">
            <div class="monitor-wrapper">
                <div class="item-circle"></div>
                <div class="monitor-item">タグ</div>
            </div>
            <div class="monitor-info">タグを入力してください（スペース区切りで複数入力可能）</div>
            <input type="text" th:field="*{tagNames}" class="tag-field" maxlength="255"
                   placeholder="例: 仕事 家族 健康"/>
        </div>

        <div class="monitor-btn-contents">
            <button type="submit" class="monitor-btn" th:text="${buttonText != null ? buttonText : '作成する'}">
                作成する
            </button>
        </div>
    </form>
</div>
</body>
</html>